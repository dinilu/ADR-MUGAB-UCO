---
title: 'Análisis espaciales y multivariantes con R (AEMeR) aplicados a estudios de biodiversidad'
subtitle: 'Homeworks de introducción a R'
author: 'Diego Nieto Lugilde'
date: 10/14/2024
format: html
toc: true
toc-depth: 2
lightbox: auto
editor: source
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,
                      eval = FALSE)
```

::: callout-note
Los ejercicios tendréis que entregarlos para la evaluación del curso. Para ello, crea un script de R con RStudio. Ponle el nombre `homeworks_t1.R`. Dicho script deberá estar organizado con comentarios en castellano (poniendo una almohadilla `#` delante) y justo detrás el código necesario para realizar el ejercicio (ver ejemplo debajo). Además, si el ejercicio pide reflexionar sobre el resultado use los comentarios (con la `#`) para indicar sus reflexiones debajo del código. Una vez los tengáis completos deberéis subirlos en la actividad correspondiente de Moodle.

```{r}
#| echo: true
#| eval: false

# Ejercicio 1.
# Parte 1
seq(1, 40, by = 2)

# Parte 2
seq(1, 40, by = -2)
# Este código da error porque especifiqué algo mal :)

```
:::


## Parte 1 - Cargando *data frames*

**1. Genera de nuevo el *data frame* de presencias de especies que realizaste en la parte 3 de los ejercicios de clase (`Presence.csv`), y carga otro *data frame* complementario que contiene información sobre características de las especies (`Traits.csv`).**


**2. ¿Cuál es la altura promedio de todas las especies que ocurren en el "Site3"?**

::: {.callout-tip collapse="true"}
## Pista

Para ello podrías usar la función `which` para determinar que especies ocurren en el "Site3" y luego calcular su altura promedio. Cuidado al calcular el promedio, ya que las especies que no están presentes no deben usarse en el cálculo del valor medio.
:::


**3. ¿Qué sitio tiene el "SLA" promedio más alto?**

::: {.callout-tip collapse="true"}
## Pista

Aquí la función `max()` será útil, ya que devuelve el elemento máximo en un vector o matriz.
:::


**4. Realiza la misma consulta usando la función `which.max()`.**


## Parte 2 - Depuración

Escribí un script que analiza los ficheros `Test Presences.csv` y `Test Traits.csv` para encontrar el sitio con la riqueza de especies más baja y calcula la masa foliar promedio de las especies en ese sitio. Mi script se llama "Lecture 1 Debugging.r". Copia el código de ese script en tu script debajo de un nuevo comentario `# Parte 2`.

**1. El script tiene varios errores. ¡Arreglalos! Lee detenidamente el encabezado del script ya que tiene información vital para saber si estás arreglando bien el script y obteniendo el resultado deseado.**

> Guarda la versión completa de tu script (con las partes 1 y 2) y súbelo a Moodle!

> Envíame un correo electrónico o habla conmigo en cualquier momento antes de la siguiente clase si tienes problemas.